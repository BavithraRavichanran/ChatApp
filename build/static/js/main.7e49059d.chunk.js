(this.webpackJsonpwebsocketclient=this.webpackJsonpwebsocketclient||[]).push([[0],{103:function(e,t,n){e.exports=n(218)},108:function(e,t,n){},109:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},218:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(12),r=n.n(o),c=(n(108),n(98)),i=n(86),l=n(87),u=n(101),m=n(99),d=(n(109),n(65),n(88)),g=n(223),p=n(222),f=(n(113),n(61)),h=n.n(f),v=n(89),y=n.n(v),w=n(97),E=n.n(w),b=new d.w3cwebsocket("ws://127.0.0.1:8000"),k=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={userName:"",isLogged:!1,messages:[]},e.onButtonClicked=function(t){b.send(JSON.stringify({type:"message",msg:t,user:e.state.userName})),e.setState({searchVal:""})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.onopen=function(){console.log("websocket connected")},b.onmessage=function(t){var n=JSON.parse(t.data);console.log("got reply",n),"message"===n.type&&e.setState((function(e){return{messages:[].concat(Object(c.a)(e.messages),[{msg:n.msg,user:n.user}])}}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main"},this.state.isLogged?s.a.createElement("div",null,s.a.createElement("div",{className:"title"},s.a.createElement(y.a,{type:"secondary",style:{fontSize:"36px"}},"WebSocket Chat")),s.a.createElement("div",{style:{display:"flex",flexDirection:"column",paddingBottom:50}},this.state.messages.map((function(t){return s.a.createElement(g.a,{key:t.msg,style:{width:300,margin:"16px 4px 0 4px",alignSelf:e.state.userName===t.user?"flex-end":"flex-start"}},s.a.createElement(E.a,{avatar:s.a.createElement(p.a,{style:{color:"#f56a00",backgroundColor:"rgb(247, 215, 203)"}},t.user[0].toUpperCase()),title:t.user,description:t.msg}))}))),s.a.createElement("div",{className:"bottom"},s.a.createElement(h.a,{placeholder:"input message and send",enterButton:"Send",value:this.state.searchVal,size:"large",onChange:function(t){return e.setState({searchVal:t.target.value})},onSearch:function(t){return e.onButtonClicked(t)}}))):s.a.createElement("div",{style:{padding:"200px 40px"}},s.a.createElement(h.a,{placeholder:"Enter UserName",enterButton:"Login",size:"large",onSearch:function(t){return e.setState({isLogged:!0,userName:t})}})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.7e49059d.chunk.js.map